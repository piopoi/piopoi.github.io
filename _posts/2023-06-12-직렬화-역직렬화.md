---
title: "직렬화(Serialization)와 역직렬화(Deserialization)"
date: 2023-06-12
categories: 
  - Programming
tags:
  - web
  - network
  - data structure
---

<br>

개발을 하면서 "직렬화"와 "역직렬화"에 대해 자주 접했지만, 명확하게 이해하고 넘어간 적이 없다. <br>
이번 글을 통해 직렬화와 역직렬화의 개념, 실제 사용 예시를 간단하게 정리해보려고 한다.

<br>

# 개념

## 직렬화 (Serialization)
직렬화(Serialization)는 객체를 저장하거나 전송하기 위해 연속적인 바이트(byte stream) 형태로 변환하는 과정을 말한다. 

자바에서는 객체를 파일에 저장하거나 네트워크를 통해 전송할 때 주로 직렬화를 사용한다. 예를 들어, 특정 클래스의 인스턴스를 네트워크를 통해 다른 시스템으로 전송하려고 한다면, 그 인스턴스를 직렬화해야 한다. 직렬화를 통해 객체의 상태를 유지하면서 파일이나 데이터 스트림에 저장할 수 있다.

## 역직렬화 (Deserialization)
역직렬화(Deserialization)는 직렬화된 데이터를 다시 객체로 복원하는 과정을 의미한다. 

직렬화를 통해 전송된 데이터를 받는 쪽에서는 이 데이터를 역직렬화하여 원래의 객체 상태로 복원할 수 있다. 이를 통해 프로그램 간 데이터 교환이 가능해지고, 객체의 상태를 원본 그대로 재구성할 수 있다.

직렬화와 역직렬화는 네트워크 통신이나 파일 저장, 캐시 처리 등 여러 곳에서 중요한 역할을 한다.

<br>

# 예시

## HTTP 메시지 전송에서의 직렬화와 역직렬화

직렬화와 역직렬화는 특히 HTTP 메시지 전송 과정에서 많이 활용된다. 

예를 들어, 클라이언트가 서버에 데이터를 전송할 때, 객체를 JSON으로 변환하는 것이 직렬화 과정이다. 서버는 이를 받아 객체로 변환해야 하는데, 이때 역직렬화가 이루어진다.

### 직렬화

클라이언트에서 사용자 정보를 서버에 전송하기 위해 객체를 JSON 문자열로 변환한다. `User` 객체가 `{"name": "John", "age": 30}` 같은 JSON 형식으로 직렬화되는 것이다.

### 역직렬화

서버는 이 JSON을 수신한 후 다시 자바 `User` 객체로 변환한다. 이는 역직렬화의 과정으로, JSON 형식을 객체로 복원하는 것이다.


## 서버 개발에서의 직렬화와 역직렬화

직렬화와 역직렬화는 서버 개발에서 필수적인 부분이다.<br>
몇 가지 예시를 통해 살펴보자.

### 세션 데이터 저장

웹 애플리케이션에서는 사용자 세션을 유지하기 위해 객체를 직렬화하여 Redis와 같은 저장소에 저장한다.

서버는 이 객체를 나중에 다시 사용하기 위해 역직렬화하여 메모리로 복원한다. 이를 통해 사용자가 로그인한 상태를 유지하거나, 특정 작업 상태를 저장하고 복원할 수 있다.

### REST API 통신

REST API는 주로 JSON 형식의 데이터를 주고받는다.

서버가 클라이언트의 요청을 받을 때 요청 본문에 포함된 JSON 데이터를 자바 객체로 역직렬화하여 처리하고, 
응답을 보낼 때 자바 객체를 JSON으로 직렬화하여 클라이언트에게 전송한다. 
Spring Boot에서 `@RestController`를 사용하면 이러한 직렬화와 역직렬화가 자동으로 이루어진다.

### 원격 프로시저 호출 (RPC)

분산 시스템에서 원격 객체 간 통신을 위해 RMI(Remote Method Invocation) 같은 기술을 사용한다. 

이 경우, 원격으로 호출된 메서드의 파라미터와 반환값은 직렬화되어 네트워크를 통해 전달되며, 상대방에서 이를 역직렬화하여 객체로 복원한다.

<br>

# 마무리

**직렬화**는 **객체를 바이트 스트림으로 변환**하여 저장하거나 전송할 수 있도록 하는 것이고,
**역직렬화**는 그 **바이트 스트림을 다시 객체로 복원**하는 것이다. 

이 글을 작성하면서 직렬화와 역직렬화에 대해 더욱 명확하게 이해할 수 있었고,
HTTP 메시지 전송이나 세션 데이터 저장, 분산 시스템 등 여러 곳에서 이러한 개념이 활용되고 있음을 알게 되었다.

<br>

# References

- [자바 직렬화(Serializable) - 완벽 마스터하기](https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EC%A7%81%EB%A0%AC%ED%99%94Serializable-%EC%99%84%EB%B2%BD-%EB%A7%88%EC%8A%A4%ED%84%B0%ED%95%98%EA%B8%B0)
- [https://www.baeldung.com/java-serialization](https://www.baeldung.com/java-serialization)
- [ChatGPT](https://chatgpt.com/)