---
title: "DNS 서버란 무엇인가?"
date: 2023-09-15
categories:
  - Infrastructure
tags:
  - network
---

DNS 서버는 인터넷의 핵심 구성 요소로, 사람이 읽을 수 있는 도메인 이름을 컴퓨터가 이해할 수 있는 IP 주소로 변환하는 역할을 한다.

이를 통해 사용자는 복잡한 IP 주소를 기억할 필요 없이 친숙한 도메인 이름을 사용하여 웹사이트에 접속할 수 있다.

# DNS 서버의 주요 기능

1. 도메인 이름을 IP 주소로 변환한다.
2. 웹사이트 호스팅 정보를 저장한다.
3. 이메일 라우팅을 지원한다.
4. 로드 밸런싱 및 트래픽을 분산한다.

<br>

# DNS 서버의 유형

## 재귀 확인자(Recursive Resolver)

사용자로부터 요청을 받아 도메인 이름에 대한 IP 주소를 찾기 위해 다른 DNS 서버와 소통한다.

- 나는 ISP에서 제공하는 재귀 확인자 대신 Cloudflare에서 제공하는 재귀 확인자(1.1.1.1)를 사용하고 있다.

## 루트 네임서버(Root Nameserver)

DNS 쿼리의 첫 단계에서 연결되며, 쿼리를 해당하는 TLD 네임서버로 전달한다.

재귀 확인자로부터 전달받은 쿼리(도메인 이름 포함)를 해당 도메인의 확장자(.com,. net, .org, etc.)에 따라 재귀 확인자를 TLD 네임서버에 보내 응답한다.

- 예를 들어, 도메인 이름이 `example.com`인 경우, 루트 네임서버는 `.com` TLD 네임서버에 대한 정보를 제공한다.
- 전체 루트 네임서버 유형은 13개이다.
- 모든 루트 네임서버는 비영리 단체인 ICANN(Internet Corporation for Assigned Names and Numbers)이 관리한다.

## TLD 네임서버(Top-Level Domain Nameserver, 최상위 도메인 네임서버)

최상위 도메인(.com, .org 등)을 관리하며, 해당 도메인의 권한 있는 네임서버 정보를 제공한다.

- 예를 들어, 도메인 이름이 `example.com`인 경우, 재귀 확인자는 루트 네임서버로부터 응답을 받은 후 쿼리를 `.com` TLD 네임서버에 보내고, 해당 네임서버는 해당 도메인의 권한 있는 네임서버 정보를 제공한다.
- TLD 네임서버는 ICANN의 지사인 IANA(Internet Assigned Numbers Authority)가 관리한다.
  - IANA는 TLD 네임서버를 두 가지로 구분한다.
    - 일반 최상위 도메인: 국가별로 고유하지 않은 도메인  (ex) .com .org .net .edu .gov
    - 국가 코드 최상위 도메인: 국가 또는 주와 관련된 모든 도메인  (ex) .kr .us .jp

## 권한 있는 네임서버(Authoritative Nameserver)

실제 도메인과 IP 주소의 관계를 관리하는 서버로, 특정 도메인에 대한 상세한 데이터를 보유하고 IP 주소 등의 정보를 제공한다.

- 예를 들어, 도메인 이름이 `example.com`인 경우, `example.com DNS 서버`는 `example.com`의 IP 주소를 보유하고 있다.
- 일반적으로 도메인/호스팅 업체의 네임서버를 의미하지만, 별도로 DNS 서버를 운영하는 경우도 여기에 해당한다.

# DNS 쿼리 해결 과정

1. 사용자가 웹 브라우저에 도메인 이름을 입력.
2. 쿼리가 재귀 확인자로 전송된다.
3. 재귀 확인자가 루트 네임서버에 쿼리를 보낸다.
4. 루트 네임서버가 TLD 네임서버 정보를 제공한다.
5. TLD 네임서버가 권한 있는 네임서버 정보를 제공한다.
6. 권한 있는 네임서버가 IP 주소를 제공한다.
7. 재귀 확인자가 IP 주소를 클라이언트에 반환한다.

# DNS 보안 고려사항

DNS 서버는 다양한 보안 위협에 노출될 수 있다:

- DNS 캐시 포이즈닝
- DDoS 공격
- DNS 증폭 공격
- DNS 터널링

이러한 위협에 대비하기 위해 DNSSEC(DNS Security Extensions), DNS over HTTPS(DoH), DNS over TLS(DoT) 등의 보안 기술이 사용된다.

## References.

[https://www.cloudflare.com/ko-kr/learning/dns/dns-server-types/](https://www.cloudflare.com/ko-kr/learning/dns/dns-server-types/)

[https://inpa.tistory.com/entry/WEB-🌐-DNS-개념-동작-완벽-이해-★-알기-쉽게-정리](https://inpa.tistory.com/entry/WEB-%F0%9F%8C%90-DNS-%EA%B0%9C%EB%85%90-%EB%8F%99%EC%9E%91-%EC%99%84%EB%B2%BD-%EC%9D%B4%ED%95%B4-%E2%98%85-%EC%95%8C%EA%B8%B0-%EC%89%BD%EA%B2%8C-%EC%A0%95%EB%A6%AC)